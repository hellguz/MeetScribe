<./worker/Dockerfile>
# ─── Python worker ─────────────────────────────────────────────────────────────
FROM python:3.12-slim

WORKDIR /app

# 1. install deps (layer cached)
COPY worker/requirements.txt ./requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# 2. copy source code
COPY worker ./worker                 # <-- copy the whole dir
COPY backend/app ./app               # backend models/services for imports

# 3. start the RQ worker
CMD ["python", "-u", "worker/worker.py"]
